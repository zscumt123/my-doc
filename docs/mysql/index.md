## 存储结构
> 数据库管理存储空间的基本单位是`页`，页的大小默认16kb
``` sql
-- 大小16384
SHOW VARIABLES  LIKE  'innodb_page_size';
```
![img](./images/struct.jpg)

1. 区是比页大一级的存储结构，一个区会分配64个连续的页，所以一个区的大小`64 * 16kb = 1MB`
2. 段（Segment）由一个或多个区组成，区在文件系统是一个连续分配的空间（在 InnoDB 中是连续的 64 个页），不过在段中不要求区与区之间是相邻的。段是数据库中的分配单位，不同类型的数据库对象以不同的段形式存在。当我们创建数据表、索引的时候，就会相应创建对应的段，比如创建一张表时会创建一个表段，创建一个索引时会创建一个索引段
3. 表空间（Tablespace）是一个逻辑容器，表空间存储的对象是段，在一个表空间中可以有一个或多个段，但是一个段只能属于一个表空间。数据库由一个或多个表空间组成，表空间从管理上可以划分为`系统表空间、用户表空间、撤销表空间、临时表空间等`:100:
::: tip
innoDB有两种表空间类型，共享表空间和独立表空间，共享表空间就是多张表共用一个表空间，
独立表空间就是每张表有一个独立的表空间
```sql
-- ON
SHOW VARIABLES  LIKE  'innodb_file_per_table';
```
:::

## 页内结构
**页（Page）如果按类型划分的话，常见的有数据页（保存 B+ 树节点）、系统页、Undo 页和事务数据页等。数据页是最常使用的页**
> 数据库 I/O 操作的最小单位是页，与数据库相关的内容都会存储在页结构里。数据页包括七个部分，分别是文件头（File Header）、页头（Page Header）、最大最小记录（Infimum+supremum）、用户记录（User Records）、空闲空间（Free Space）、页目录（Page Directory）和文件尾（File Tailer）

![img1](./images/page.jpg)


名称 | 占用大小 | 说明 | 
:-: | :-: | :-: | 
头文件 | 38字节 | 文件头，描述页的信息 | 
页头 | 56字节| 页头，页的状态信息 |
最大最小记录 | 26字节 | 两个虚拟的行记录 |
用户记录 | 不确定 | 存储行记录内容 |
空闲空间 | 不确定 | 页中还没有被使用的空间 |
页目录 | 不确定 | 存储用户记录的相对位置 |
文件尾 | 8字节 | 校验页是否完整


